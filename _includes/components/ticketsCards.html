<!-- Add the script -->

<script type="application/javascript">

  function getConfDetails() {

    
    const today_date = Date.now()
    const first200 = new Date(2020, 2, 1, 23, 59, 59)
    const super_early = new Date(2020, 5, 6, 23, 59, 59)
    const early = new Date(2020, 7, 4, 23, 59, 59)
    const regular = new Date(2020, 7, 9, 23, 59, 59)
    const regularLate = new Date(2020, 8, 5, 23, 59, 59)
    const late = new Date(2020, 9, 7, 23, 59, 59)
    const lastMinute = new Date(2020, 9, 9, 23, 59, 59)
    
    const confTickets = ['first200', 'super_early', 'early', 'regular', 'regularLate', 'late', 'lastMinute']
    const confDetails = {
      first200: {
        confRelease: 'leeqybhvwhy',
        confPrice: 500,
        ticketTitle: "First release",
        ticketSubTitle: "Limited to 200 tickets",
      },
      super_early: {
        confRelease: 'q510lz79t4q',
        confPrice: 600,
        ticketTitle: "Super Early",
        ticketSubTitle: "Get your tickets early before prices increase!",
      },
      early: {
        confRelease: 'kchd6kqhtha',
        confPrice: 700,
        ticketTitle: "Early",
        ticketSubTitle: "Get your tickets early before prices increase!",
      },
      regular: {
        confRelease: '5g-jx-fyrhk',
        confPrice: 850,
        ticketTitle: "Regular",
        ticketSubTitle: "UXDX conference and workshop access",
      },
      regularLate: {
        confRelease: 'lbmjy67nu8',
        confPrice: 1000,
        ticketTitle: "Regular - Late",
        ticketSubTitle: "UXDX conference and workshop access",
      },
      late: {
        confRelease: '6chismpqzoa',
        confPrice: 1100,
        ticketTitle: "Late",
        ticketSubTitle: "UXDX conference and workshop access",
      },
      lastMinute: {
        confRelease: 'rihixk7knry',
        confPrice: 1350,
        ticketTitle: "Last Minute",
        ticketSubTitle: "UXDX conference and workshop access",
      }
    }

    let expired = false, sale
    if (today_date < first200) { sale = "first200" }
    else if (today_date < super_early) { sale = "super_early" }
    else if (today_date < early) { sale = "early" }
    else if (today_date < regular) { sale = "regular" }
    else if (today_date < regularLate) { sale = "regularLate" }
    else if (today_date < late) { sale = "late" }
    else if (today_date < lastMinute) { sale = "lastMinute" }
    else expired = true

    // return confDetails[sale]
    const position = confTickets.indexOf(sale)
    const next = confTickets[position + 1]
    let lateTicket = position < confTickets.indexOf('regular') ? 'regular': 'lastMinute'
    if (lateTicket === next || lateTicket === sale) lateTicket = null
    // if (next === sale) next = null


    let details = {
      current: confDetails[sale], 
      next: confDetails[next],
      late: confDetails[lateTicket]
    }
    // console.log(details)
    return details
  }


  // get the expiry time
  let details = getConfDetails();

  document.addEventListener("DOMContentLoaded", function (event) {
    var conferencePrice = document.getElementById("conference-price");
    conferencePrice.innerHTML = "€" + details.current.confPrice;
    var conferenceVATPrice = document.getElementById("conference-vat-price");
    conferenceVATPrice.innerHTML = "€" + Math.round(details.current.confPrice/1.23, 2) + " ex VAT"

      
    var ticketTitle = document.getElementById("ticket-title");
    ticketTitle.innerHTML = details.current.ticketTitle;
    var ticketSubTitle = document.getElementById("ticket-sub-title");
    ticketSubTitle.innerHTML = details.current.ticketSubTitle;

    if (details.late) {
      var nextName = document.getElementById("ticket-next-name");
      nextName.innerHTML = details.next.ticketTitle;
      var nextPrice = document.getElementById("ticket-next-price");
      nextPrice.innerHTML = "€" + details.next.confPrice;
    } else {
      var nextElement = document.getElementById("ticket-next");
      elem.parentNode.removeChild(nextElement);
    }

    if (details.late) {
      var lastName = document.getElementById("ticket-last-name");
      lastName.innerHTML = details.late.ticketTitle;
      var lastPrice = document.getElementById("ticket-last-price");
      lastPrice.innerHTML = "€" + details.late.confPrice;
    } else {
      var lastElement = document.getElementById("ticket-last");
      elem.parentNode.removeChild(lastElement);
    }

    var conferenceRelease = document.getElementById("conference-release");
    conferenceRelease.setAttribute("releases", details.current.confRelease);



    // var loadWidgetWithFallback = function (e) {
    //   e.preventDefault()

    //   console.log('here1')
    //   if (TitoWidget.modern_and_not_mobile() && this.overlay_enabled()) {
    //     this.load();
    //     console.log('here')
    //   }
    //   else {
    //     open(this.fallback_url())
    //   };
    // }

    // Tito.instance('initiate/europe-2020', {
    //   releases: details.confRelease,
    //   success: function (widget) {
    //     document.getElementById('book-now-conf').onclick = loadWidgetWithFallback.bind(widget);
    //     return false;
    //   }
    // });
    // Tito.instance('initiate/europe-2020', {
    //   success: function (widget) {
    //     document.getElementById('book-now-conf-training').onclick = loadWidgetWithFallback.bind(widget);
    //     return false;
    //   }
    // });
  });

</script>

<div class="tab-content clearfix">
  <div class="tab-pane active fade show d-flex justify-content-around flex-wrap" id="tickets-individual-freelance"
    aria-labelledby="tickets-individuals" role="tabpanel">
    <div class="card ticket-card">
      <div class="card-header">
        <h3 class="text-white">Freelance / Startup</h3>
        <p class="small text-light">A helping hand for those starting up</p>

      </div>
      <div class="card-body">
        <div class="text-center">
          <!-- <h2 class="card-title">Sold Out</h2> -->
          <h2 class="card-title">€200</h2>
          <h6 class="card-subtitle text-muted font-weight-light">€162.60 ex VAT</h6>
        </div>
        <hr>
        <div class="d-flex justify-content-around ticket-details">
          <span class="small text-muted">Special discounted rate for full time freelancers or for companies with less than 8 employees and less than 3 years old.</span>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item small">2 days / 40+ talks</li>
          <li class="list-group-item small">UX / Dev / Product workshops</li>
          <li class="list-group-item small">Network with 2,000 attendees </li>
          <li class="list-group-item small">Lunch each day </li>
          <li class="list-group-item small">Dublin walking tour </li>
          <li class="list-group-item small">After party </li>
          <li class="list-group-item small">Chat support </li>
          <li class="list-group-item small">* See eligibility FAQ below </li>
        </ul>

      </div>
      <!-- <a href="https://ti.to/initiate/europe-2020/with/freelancer-startup" class="btn tito-tickets-button" id="book-now-freelancer"
        target="_blank" onClick="gtag('event', 'click', { event_category: 'ecommerce', event_action: 'click', event_label: 'Freelancer Ticket Book Now'});">Book Now</a> -->
      <!-- <button class="btn">Sold Out</button> -->
      <tito-button event="initiate/europe-2020"  releases="freelancer-startup" onClick="gtag('event', 'click', { event_category: 'ecommerce', event_action: 'click', event_label: 'Freelancer Ticket Book Now'});">Book Now</tito-button>
    </div>
    <div class="card ticket-card">
      <!-- <div class="most-popular-header">
        Most Popular
      </div> -->
      <div class="card-header">
        <h3 class="text-white" id="ticket-title"></h3>
        <p class="small text-light" id="ticket-sub-title"></p>

      </div>
      <div class="card-body">
        <div class="text-center">
          <h2 class="card-title" id="conference-price"></h2>
          <h6 class="card-subtitle text-muted font-weight-light" id="conference-vat-price"></h6>
        </div>
        <hr>
        <div class="d-flex justify-content-around ticket-details">
          <div id="ticket-next">
            <span class="small text-muted" id="ticket-next-name"></span>
            <br>
            <h4 class="font-weight-light" id="ticket-next-price"></h4>
          </div>
          <div id="ticket-last">
            <span class="small text-muted" id="ticket-last-name"></span>
            <br>
            <h4 class="font-weight-light" id="ticket-last-price"></h4>
          </div>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item small">2 days / 40+ talks</li>
          <li class="list-group-item small">UX / Dev / Product workshops</li>
          <li class="list-group-item small">Network with 2,000 attendees </li>
          <li class="list-group-item small">Lunch each day </li>
          <li class="list-group-item small">Dublin walking tour </li>
          <li class="list-group-item small">After party </li>
          <li class="list-group-item small">Phone and chat support </li>
        </ul>
        
      </div>
      <tito-button 
        event="initiate/europe-2020" 
        id="conference-release" 
        onClick="gtag('event', 'click', { event_category: 'ecommerce', event_action: 'click', event_label: 'Regular Ticket Book Now'});">
          Book Now
      </tito-button>
      <!-- <a href="https://ti.to/initiate/europe-2020" class="btn tito-tickets-button" id="book-now-conf" target="_blank" 
      onClick="gtag('event', 'click', { event_category: 'ecommerce', event_action: 'click', event_label: 'Regular Ticket Book Now'});">Book Now</a> -->
    </div>
    <div class="card ticket-card">
      <div class="card-header">
        <h3 class="text-white">Executive</h3>
        <p class="small text-light">Includes exclusive networking events</p>

      </div>
      <div class="card-body">
        <div class="text-center">
          <!-- <h2 class="card-title">Sold Out</h2> -->
          <h2 class="card-title">€3,950</h2>
          <h6 class="card-subtitle text-muted font-weight-light">€3,211.38 ex VAT</h6>
        </div>
        <hr>
        <div class="d-flex justify-content-around ticket-details">
          <span class="small text-muted">Exclusive access to VIP events. Limited release</span>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item small">2 days / 40+ talks</li>
          <li class="list-group-item small">UX / Dev / Product workshops</li>
          <li class="list-group-item small">Network with 2,000 attendees </li>
          <li class="list-group-item small">Lunch each day </li>
          <li class="list-group-item small">Dublin walking tour </li>
          <li class="list-group-item small">After party </li>
          <li class="list-group-item small">Phone and chat support </li>
          <li class="list-group-item small">Speaker dinner</li>
          <li class="list-group-item small">VIP activities</li>
        </ul>

      </div>
      <!-- <a href="https://ti.to/initiate/europe-2020/with/doh-f5v3uua" class="btn tito-tickets-button" id="book-now-executive"
        target="_blank" onClick="gtag('event', 'click', { event_category: 'ecommerce', event_action: 'click', event_label: 'Executive Ticket Book Now'});">Book Now</a> -->
      <!-- <button class="btn">Sold Out</button> -->
      <tito-button 
        event="initiate/europe-2020" 
        releases="doh-f5v3uua" 
        onClick="gtag('event', 'click', { event_category: 'ecommerce', event_action: 'click', event_label: 'Executive Ticket Book Now'});">
          Book Now
      </tito-button>
    </div>
  </div>
</div>
